version: "v1.0"
policy: TEAM_ROLES_POLICY

roles:
  owner:
    can:
      - "assign_teammates"
      - "approve_apply_patch"
      - "trigger_doctor2"
      - "trigger_kill_switch"
      - "finalize_receipt"
  implementer:
    can:
      - "propose_patch"
      - "run_testsprite"
      - "request_review"
    cannot:
      - "apply_patch_directly"
  reviewer:
    can:
      - "approve_patch"
      - "reject_patch"
      - "request_doctor2"
  auditor:
    can:
      - "read_evidence"
      - "validate_receipts"
    cannot:
      - "change_code"

enforcement:
  - "GitNanu applies final patch only"
  - "No teammate writes directly to repo"
