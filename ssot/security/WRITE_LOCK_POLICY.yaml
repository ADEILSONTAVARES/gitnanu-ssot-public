write_lock_policy:
  enforcement: HARD

  allowed_writers:
    - component: gitnanu
      scope: repo_commits
      methods: [git_commit, git_push]

  blocked_components:
    - antigravity
    - n8n
    - prm
    - mouse
    - gammanote_ui

  committer_signature:
    required_git_config:
      user.component: gitnanu
    required_commit_trailer:
      - "X-GitNanu-Writer: gitnanu"

  write_attempt_detection:
    monitor: true
    log_to: evidence/UNAUTHORIZED_WRITE_ATTEMPTS.log
    action: BLOCK_AND_ALERT

  terminal_access:
    allowed: [gitnanu]
    blocked: [ALL_OTHERS]
